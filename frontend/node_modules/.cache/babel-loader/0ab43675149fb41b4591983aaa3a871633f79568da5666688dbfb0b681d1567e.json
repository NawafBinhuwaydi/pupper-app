{"ast":null,"code":"import axios from 'axios';\n\n// Create axios instance with base configuration\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'https://bj9jbp1rgf.execute-api.us-east-1.amazonaws.com/prod',\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Dogs API\nexport const dogsApi = {\n  // Get all dogs with optional filters\n  getDogs: async (filters = {}) => {\n    const params = new URLSearchParams();\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== undefined && value !== null && value !== '') {\n        params.append(key, value);\n      }\n    });\n    const response = await api.get(`/dogs?${params.toString()}`);\n    return response.data;\n  },\n  // Get single dog by ID\n  getDog: async dogId => {\n    const response = await api.get(`/dogs/${dogId}`);\n    return response.data;\n  },\n  // Vote on dog\n  voteDog: async (dogId, voteData) => {\n    const response = await api.post(`/dogs/${dogId}/vote`, voteData);\n    return response.data;\n  }\n};\n\n// Utility functions\nexport const apiUtils = {\n  // Handle API errors\n  handleError: error => {\n    if (error.response) {\n      var _error$response$data, _error$response$data2;\n      const message = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || ((_error$response$data2 = error.response.data) === null || _error$response$data2 === void 0 ? void 0 : _error$response$data2.message) || 'An error occurred';\n      return {\n        message,\n        status: error.response.status,\n        data: error.response.data\n      };\n    } else if (error.request) {\n      return {\n        message: 'Network error - please check your connection',\n        status: 0,\n        data: null\n      };\n    } else {\n      return {\n        message: error.message || 'An unexpected error occurred',\n        status: 0,\n        data: null\n      };\n    }\n  },\n  // Format image URL with fallback\n  getImageUrl: (dog, size = '400x400') => {\n    if (dog.dog_photo_400x400_url && size === '400x400') {\n      return dog.dog_photo_400x400_url;\n    }\n    if (dog.dog_photo_50x50_url && size === '50x50') {\n      return dog.dog_photo_50x50_url;\n    }\n    if (dog.dog_photo_url) {\n      return dog.dog_photo_url;\n    }\n    return 'https://via.placeholder.com/400x400/e5e7eb/9ca3af?text=Dog+Photo';\n  },\n  // Format dog age\n  formatAge: ageYears => {\n    if (!ageYears) return 'Unknown age';\n    const years = Math.floor(ageYears);\n    const months = Math.round((ageYears - years) * 12);\n    if (years === 0) {\n      return `${months} month${months !== 1 ? 's' : ''} old`;\n    } else if (months === 0) {\n      return `${years} year${years !== 1 ? 's' : ''} old`;\n    } else {\n      return `${years} year${years !== 1 ? 's' : ''}, ${months} month${months !== 1 ? 's' : ''} old`;\n    }\n  },\n  // Format weight\n  formatWeight: weight => {\n    if (!weight) return 'Unknown weight';\n    return `${weight} lbs`;\n  },\n  // Get status badge color\n  getStatusColor: status => {\n    switch (status === null || status === void 0 ? void 0 : status.toLowerCase()) {\n      case 'available':\n        return 'bg-green-100 text-green-800';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'adopted':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-green-100 text-green-800';\n    }\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","headers","dogsApi","getDogs","filters","params","URLSearchParams","Object","entries","forEach","key","value","undefined","append","response","get","toString","data","getDog","dogId","voteDog","voteData","post","apiUtils","handleError","error","_error$response$data","_error$response$data2","message","status","request","getImageUrl","dog","size","dog_photo_400x400_url","dog_photo_50x50_url","dog_photo_url","formatAge","ageYears","years","Math","floor","months","round","formatWeight","weight","getStatusColor","toLowerCase"],"sources":["/home/nawaf/pupper-app/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Create axios instance with base configuration\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'https://bj9jbp1rgf.execute-api.us-east-1.amazonaws.com/prod',\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Dogs API\nexport const dogsApi = {\n  // Get all dogs with optional filters\n  getDogs: async (filters = {}) => {\n    const params = new URLSearchParams();\n    \n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== undefined && value !== null && value !== '') {\n        params.append(key, value);\n      }\n    });\n    \n    const response = await api.get(`/dogs?${params.toString()}`);\n    return response.data;\n  },\n\n  // Get single dog by ID\n  getDog: async (dogId) => {\n    const response = await api.get(`/dogs/${dogId}`);\n    return response.data;\n  },\n\n  // Vote on dog\n  voteDog: async (dogId, voteData) => {\n    const response = await api.post(`/dogs/${dogId}/vote`, voteData);\n    return response.data;\n  },\n};\n\n// Utility functions\nexport const apiUtils = {\n  // Handle API errors\n  handleError: (error) => {\n    if (error.response) {\n      const message = error.response.data?.error || error.response.data?.message || 'An error occurred';\n      return {\n        message,\n        status: error.response.status,\n        data: error.response.data,\n      };\n    } else if (error.request) {\n      return {\n        message: 'Network error - please check your connection',\n        status: 0,\n        data: null,\n      };\n    } else {\n      return {\n        message: error.message || 'An unexpected error occurred',\n        status: 0,\n        data: null,\n      };\n    }\n  },\n\n  // Format image URL with fallback\n  getImageUrl: (dog, size = '400x400') => {\n    if (dog.dog_photo_400x400_url && size === '400x400') {\n      return dog.dog_photo_400x400_url;\n    }\n    if (dog.dog_photo_50x50_url && size === '50x50') {\n      return dog.dog_photo_50x50_url;\n    }\n    if (dog.dog_photo_url) {\n      return dog.dog_photo_url;\n    }\n    return 'https://via.placeholder.com/400x400/e5e7eb/9ca3af?text=Dog+Photo';\n  },\n\n  // Format dog age\n  formatAge: (ageYears) => {\n    if (!ageYears) return 'Unknown age';\n    \n    const years = Math.floor(ageYears);\n    const months = Math.round((ageYears - years) * 12);\n    \n    if (years === 0) {\n      return `${months} month${months !== 1 ? 's' : ''} old`;\n    } else if (months === 0) {\n      return `${years} year${years !== 1 ? 's' : ''} old`;\n    } else {\n      return `${years} year${years !== 1 ? 's' : ''}, ${months} month${months !== 1 ? 's' : ''} old`;\n    }\n  },\n\n  // Format weight\n  formatWeight: (weight) => {\n    if (!weight) return 'Unknown weight';\n    return `${weight} lbs`;\n  },\n\n  // Get status badge color\n  getStatusColor: (status) => {\n    switch (status?.toLowerCase()) {\n      case 'available':\n        return 'bg-green-100 text-green-800';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'adopted':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-green-100 text-green-800';\n    }\n  },\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}