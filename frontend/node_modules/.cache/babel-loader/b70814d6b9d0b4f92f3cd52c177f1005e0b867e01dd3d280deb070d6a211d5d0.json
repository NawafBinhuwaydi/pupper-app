{"ast":null,"code":"import { createOAuthError } from './createOAuthError.mjs';\nimport { handleFailure } from './handleFailure.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst listenForOAuthFlowCancellation = store => {\n  async function handleCancelOAuthFlow(event) {\n    const isBfcache = event.persisted;\n    if (isBfcache && (await store.loadOAuthInFlight())) {\n      const error = createOAuthError('User cancelled OAuth flow.');\n      await handleFailure(error);\n    }\n    window.removeEventListener('pageshow', handleCancelOAuthFlow);\n  }\n  window.addEventListener('pageshow', handleCancelOAuthFlow);\n};\nexport { listenForOAuthFlowCancellation };\n//# sourceMappingURL=cancelOAuthFlow.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}