{"ast":null,"code":"import _objectSpread from \"/home/nawaf/aws-project/pupper-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport JsCookie from 'js-cookie';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass CookieStorage {\n  constructor() {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      path,\n      domain,\n      expires,\n      sameSite,\n      secure\n    } = data;\n    this.domain = domain;\n    this.path = path || '/';\n    this.expires = Object.prototype.hasOwnProperty.call(data, 'expires') ? expires : 365;\n    this.secure = Object.prototype.hasOwnProperty.call(data, 'secure') ? secure : true;\n    if (Object.prototype.hasOwnProperty.call(data, 'sameSite')) {\n      if (!sameSite || !['strict', 'lax', 'none'].includes(sameSite)) {\n        throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n      }\n      if (sameSite === 'none' && !this.secure) {\n        throw new Error('sameSite = None requires the Secure attribute in latest browser versions.');\n      }\n      this.sameSite = sameSite;\n    }\n  }\n  async setItem(key, value) {\n    JsCookie.set(key, value, this.getData());\n  }\n  async getItem(key) {\n    const item = JsCookie.get(key);\n    return item !== null && item !== void 0 ? item : null;\n  }\n  async removeItem(key) {\n    JsCookie.remove(key, this.getData());\n  }\n  async clear() {\n    const cookie = JsCookie.get();\n    const promises = Object.keys(cookie).map(key => this.removeItem(key));\n    await Promise.all(promises);\n  }\n  getData() {\n    return _objectSpread({\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure\n    }, this.sameSite && {\n      sameSite: this.sameSite\n    });\n  }\n}\nexport { CookieStorage };\n//# sourceMappingURL=CookieStorage.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}