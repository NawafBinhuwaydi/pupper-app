{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{Heart,MapPin,Calendar,Weight,ThumbsUp,ThumbsDown}from'lucide-react';import{apiUtils}from'../services/api';import{useFavorites,useVoteDog}from'../hooks/useDogs';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DogCard=_ref=>{let{dog}=_ref;const[imageLoaded,setImageLoaded]=useState(false);const[imageError,setImageError]=useState(false);const{isFavorite,toggleFavorite}=useFavorites();const voteMutation=useVoteDog();const handleImageLoad=()=>{setImageLoaded(true);};const handleImageError=()=>{setImageError(true);setImageLoaded(true);};const handleFavoriteClick=e=>{e.preventDefault();e.stopPropagation();toggleFavorite(dog.dog_id);};const handleVote=(e,voteType)=>{e.preventDefault();e.stopPropagation();const userId='demo-user-123';voteMutation.mutate({dogId:dog.dog_id,voteData:{user_id:userId,vote_type:voteType}});};const thumbnailUrl=apiUtils.getImageUrl(dog,'400x400');const isLiked=isFavorite(dog.dog_id);return/*#__PURE__*/_jsx(\"div\",{className:\"card card-hover group\",children:/*#__PURE__*/_jsxs(Link,{to:\"/dogs/\".concat(dog.dog_id),className:\"block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative aspect-square overflow-hidden\",children:[!imageLoaded&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 text-4xl\",children:\"\\uD83D\\uDC15\"})}),!imageError?/*#__PURE__*/_jsx(\"img\",{src:thumbnailUrl,alt:\"\".concat(dog.dog_name||'Dog',\" - Available for adoption\"),className:\"w-full h-full object-cover transition-all duration-300 group-hover:scale-105 \".concat(imageLoaded?'opacity-100':'opacity-0'),onLoad:handleImageLoad,onError:handleImageError,loading:\"lazy\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 text-6xl\",children:\"\\uD83D\\uDC15\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFavoriteClick,className:\"absolute top-3 right-3 p-2 rounded-full transition-all duration-200 \".concat(isLiked?'bg-red-500 text-white shadow-lg':'bg-white/80 text-gray-600 hover:bg-white hover:text-red-500',\" backdrop-blur-sm\"),\"aria-label\":isLiked?'Remove from favorites':'Add to favorites',children:/*#__PURE__*/_jsx(Heart,{size:18,className:\"transition-all duration-200 \".concat(isLiked?'fill-current heart-bounce':'')})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 left-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(apiUtils.getStatusColor(dog.status)),children:dog.status||'Available'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-1 group-hover:text-primary-600 transition-colors\",children:dog.dog_name||'Adorable Labrador'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(MapPin,{size:14,className:\"mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[dog.city,\", \",dog.state]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Calendar,{size:14,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:apiUtils.formatAge(dog.dog_age_years)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Weight,{size:14,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:apiUtils.formatWeight(dog.dog_weight)})]})]}),dog.dog_description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4 line-clamp-2\",children:dog.dog_description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>handleVote(e,'wag'),disabled:voteMutation.isLoading,className:\"flex items-center justify-center p-2 rounded-full bg-green-100 text-green-600 hover:bg-green-200 transition-colors\",\"aria-label\":\"Give this dog a wag\",children:[/*#__PURE__*/_jsx(ThumbsUp,{size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 text-sm font-medium\",children:dog.wag_count||0})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>handleVote(e,'growl'),disabled:voteMutation.isLoading,className:\"flex items-center justify-center p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors\",\"aria-label\":\"Give this dog a growl\",children:[/*#__PURE__*/_jsx(ThumbsDown,{size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 text-sm font-medium\",children:dog.growl_count||0})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:dog.shelter_name})]})]})]})});};export default DogCard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}