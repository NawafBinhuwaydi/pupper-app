{"ast":null,"code":"import React,{useState}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import{ArrowLeft,Heart,MapPin,Calendar,Scale,Palette,Home,ThumbsUp,ThumbsDown,Share2,Edit,Trash2,AlertCircle}from'lucide-react';import{useDogDetails,useVoteDog}from'../hooks/useDogs';import{apiUtils}from'../services/api';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DogDetailsPage=()=>{const{dogId}=useParams();const navigate=useNavigate();const[userId]=useState('demo-user-'+Math.random().toString(36).substr(2,9));const{data:dogData,isLoading,error,refetch}=useDogDetails(dogId);const voteMutation=useVoteDog();const dog=dogData===null||dogData===void 0?void 0:dogData.data;const handleVote=async voteType=>{try{await voteMutation.mutateAsync({dogId,voteData:{user_id:userId,vote_type:voteType}});}catch(error){// Error handling is done in the mutation\n}};const handleShare=async()=>{if(navigator.share){try{await navigator.share({title:\"Meet \".concat(dog.dog_name,\"!\"),text:\"Check out this adorable \".concat(dog.dog_species,\" looking for a home!\"),url:window.location.href});}catch(error){// User cancelled sharing\n}}else{// Fallback: copy to clipboard\nnavigator.clipboard.writeText(window.location.href);toast.success('Link copied to clipboard!');}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"mr-2\",size:18}),\"Back to all dogs\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-video bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-8 w-1/3 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-4 w-2/3 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-4 w-1/2 rounded\"})]})]})})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"mr-2\",size:18}),\"Back to all dogs\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-16 h-16 text-red-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Dog Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"The dog you're looking for doesn't exist or may have been removed.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>refetch(),className:\"btn-primary mr-4\",children:\"Try Again\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn-ghost\",children:\"Browse All Dogs\"})]})]})});}if(!dog){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"No Data Available\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn-primary\",children:\"Back to Dogs\"})]})})});}const imageUrl=apiUtils.getImageUrl(dog,'400x400');const age=apiUtils.formatAge(dog.dog_age_years);const weight=apiUtils.formatWeight(dog.dog_weight);const statusColor=apiUtils.getStatusColor(dog.status);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"mr-2\",size:18}),\"Back to all dogs\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden sticky top-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"aspect-square relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:dog.dog_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.src='https://via.placeholder.com/400x400/e5e7eb/9ca3af?text=Dog+Photo';}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(statusColor),children:dog.status||'Available'})}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-4 right-4 p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-sm hover:bg-white transition-colors\",children:/*#__PURE__*/_jsx(Heart,{size:20,className:\"text-gray-600 hover:text-red-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote('wag'),disabled:voteMutation.isLoading,className:\"btn-primary flex items-center justify-center\",children:[/*#__PURE__*/_jsx(ThumbsUp,{size:18,className:\"mr-2\"}),\"Wag (\",dog.wag_count||0,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote('growl'),disabled:voteMutation.isLoading,className:\"btn-ghost flex items-center justify-center\",children:[/*#__PURE__*/_jsx(ThumbsDown,{size:18,className:\"mr-2\"}),\"Growl (\",dog.growl_count||0,\")\"]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleShare,className:\"w-full btn-outline flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Share2,{size:18,className:\"mr-2\"}),\"Share \",dog.dog_name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 border-t border-gray-200 space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full btn-ghost text-left flex items-center\",children:[/*#__PURE__*/_jsx(Edit,{size:16,className:\"mr-2\"}),\"Edit Details\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"w-full btn-ghost text-left flex items-center text-red-600 hover:text-red-700\",children:[/*#__PURE__*/_jsx(Trash2,{size:16,className:\"mr-2\"}),\"Remove Dog\"]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-2\",children:dog.dog_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600\",children:dog.dog_species})]}),dog.is_labrador&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium\",children:\"Certified Lab \\uD83D\\uDC15\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5 text-gray-500 mx-auto mb-1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Age\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:age})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(Scale,{className:\"w-5 h-5 text-gray-500 mx-auto mb-1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Weight\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:weight})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(Palette,{className:\"w-5 h-5 text-gray-500 mx-auto mb-1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Color\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold capitalize\",children:dog.dog_color})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(Home,{className:\"w-5 h-5 text-gray-500 mx-auto mb-1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold capitalize\",children:dog.status||'Available'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-600 mb-4\",children:[/*#__PURE__*/_jsx(MapPin,{size:18,className:\"mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{children:[dog.city,\", \",dog.state]})]})]}),dog.dog_description&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:[\"About \",dog.dog_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 leading-relaxed\",children:dog.dog_description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Shelter Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"Shelter:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-700\",children:dog.shelter_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"Location:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-gray-700\",children:[dog.city,\", \",dog.state]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"Entry Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-700\",children:dog.shelter_entry_date})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"Birthday:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-700\",children:dog.dog_birthday})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Additional Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"Physical Traits\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1 text-gray-700\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Species: \",dog.dog_species]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Color: \",dog.dog_color]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Weight: \",weight]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Age: \",age]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"Adoption Info\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1 text-gray-700\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Status: \",dog.status||'Available']}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Wag Count: \",dog.wag_count||0]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Growl Count: \",dog.growl_count||0]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Added: \",new Date(dog.created_at).toLocaleDateString()]})]})]})]})]})]})]})]})});};export default DogDetailsPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}