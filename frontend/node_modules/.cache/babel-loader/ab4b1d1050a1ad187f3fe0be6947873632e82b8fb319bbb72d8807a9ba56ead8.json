{"ast":null,"code":"import _objectSpread from\"/home/nawaf/aws-project/pupper-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{Search,Heart,Filter,RefreshCw,Plus}from'lucide-react';import{useDogs}from'../hooks/useDogs';import DogCard from'../components/DogCard';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LoadingSkeleton=()=>/*#__PURE__*/_jsx(\"div\",{className:\"dog-grid\",children:Array.from({length:6}).map((_,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"card animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-6 w-3/4 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-4 w-1/2 rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-4 w-2/3 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-4 w-1/2 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-8 w-16 rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-8 w-16 rounded-full\"})]})]})]},index))});const HomePage=()=>{var _data$data,_data$data$pagination,_data$data2,_data$data2$dogs,_data$data3,_data$data3$dogs,_data$data4,_data$data4$paginatio,_data$data5,_data$data5$dogs;const navigate=useNavigate();const[quickSearch,setQuickSearch]=useState('');const[filters,setFilters]=useState({status:'available',limit:12});const[showFilters,setShowFilters]=useState(false);const{data,isLoading,error,refetch,isFetching}=useDogs(filters);const handleQuickSearch=e=>{e.preventDefault();if(quickSearch.trim()){navigate(\"/search?search=\".concat(encodeURIComponent(quickSearch.trim())));}else{navigate('/search');}};const handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value||undefined}));};const clearFilters=()=>{setFilters({status:'available',limit:12});};const hasActiveFilters=Object.keys(filters).some(key=>filters[key]&&key!=='status'&&key!=='limit');if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-md mx-auto px-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDE22\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Unable to load dogs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"We're having trouble connecting to our database. Please try again in a moment.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>refetch(),className:\"btn-primary\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"mr-2\",size:18}),\"Try Again\"]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-primary-500 to-secondary-500 text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl md:text-6xl font-bold mb-4\",children:[\"Find Your Perfect\",/*#__PURE__*/_jsx(\"span\",{className:\"block text-yellow-300\",children:\"Labrador Companion\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl md:text-2xl mb-8 text-blue-100\",children:\"Discover amazing Labrador Retrievers looking for their forever homes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto mb-8\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleQuickSearch,className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Quick search: dog names, breeds, locations...\",value:quickSearch,onChange:e=>setQuickSearch(e.target.value),className:\"block w-full pl-10 pr-20 py-4 border border-transparent rounded-lg focus:ring-2 focus:ring-white focus:border-white text-gray-900 text-lg placeholder-gray-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 right-0 flex items-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-r-lg transition-colors font-medium\",children:\"Search\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-center\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/search\",className:\"btn-secondary\",children:[/*#__PURE__*/_jsx(Search,{className:\"mr-2\",size:20}),\"Advanced Search\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/add-dog\",className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Plus,{className:\"mr-2\",size:20}),\"Add Dog\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/favorites\",className:\"btn-outline bg-white/10 border-white text-white hover:bg-white hover:text-primary-600\",children:[/*#__PURE__*/_jsx(Heart,{className:\"mr-2\",size:20}),\"View Favorites\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\",children:[/*#__PURE__*/_jsx(Filter,{size:16}),\"Quick Filters\"]}),hasActiveFilters&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearFilters,className:\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors\",children:[/*#__PURE__*/_jsx(RefreshCw,{size:16}),\"Clear\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$pagination=_data$data.pagination)===null||_data$data$pagination===void 0?void 0:_data$data$pagination.total_items)||0,\" dogs available\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>refetch(),disabled:isFetching,className:\"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50\",children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:isFetching?'animate-spin':''}),\"Refresh\"]})]})]}),showFilters&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"State\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.state||'',onChange:e=>handleFilterChange('state',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All States\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CA\",children:\"California\"}),/*#__PURE__*/_jsx(\"option\",{value:\"TX\",children:\"Texas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FL\",children:\"Florida\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NY\",children:\"New York\"}),/*#__PURE__*/_jsx(\"option\",{value:\"VA\",children:\"Virginia\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Max Weight\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.max_weight||'',onChange:e=>handleFilterChange('max_weight',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any Weight\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"Under 30 lbs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"Under 50 lbs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"70\",children:\"Under 70 lbs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"Under 100 lbs\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Age Range\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.max_age||'',onChange:e=>handleFilterChange('max_age',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any Age\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Puppies (Under 1 year)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Young (Under 3 years)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"Adult (Under 7 years)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15\",children:\"Senior (Under 15 years)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Color\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.color||'',onChange:e=>handleFilterChange('color',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Colors\"}),/*#__PURE__*/_jsx(\"option\",{value:\"black\",children:\"Black\"}),/*#__PURE__*/_jsx(\"option\",{value:\"brown\",children:\"Brown\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yellow\",children:\"Yellow\"}),/*#__PURE__*/_jsx(\"option\",{value:\"chocolate\",children:\"Chocolate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"golden\",children:\"Golden\"})]})]})]})})]})}),isLoading?/*#__PURE__*/_jsx(LoadingSkeleton,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8\",children:data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:(_data$data2$dogs=_data$data2.dogs)===null||_data$data2$dogs===void 0?void 0:_data$data2$dogs.map(dog=>/*#__PURE__*/_jsx(DogCard,{dog:dog},dog.dog_id))}),(data===null||data===void 0?void 0:(_data$data3=data.data)===null||_data$data3===void 0?void 0:(_data$data3$dogs=_data$data3.dogs)===null||_data$data3$dogs===void 0?void 0:_data$data3$dogs.length)>0&&(data===null||data===void 0?void 0:(_data$data4=data.data)===null||_data$data4===void 0?void 0:(_data$data4$paginatio=_data$data4.pagination)===null||_data$data4$paginatio===void 0?void 0:_data$data4$paginatio.has_next)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(Link,{to:\"/search\",className:\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors\",children:[\"View All Dogs\",/*#__PURE__*/_jsx(Search,{className:\"ml-2\",size:20})]})}),(data===null||data===void 0?void 0:(_data$data5=data.data)===null||_data$data5===void 0?void 0:(_data$data5$dogs=_data$data5.dogs)===null||_data$data5$dogs===void 0?void 0:_data$data5$dogs.length)===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDC15\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No dogs match your criteria\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Try adjusting your filters or check back later for new arrivals.\"}),/*#__PURE__*/_jsxs(Link,{to:\"/search\",className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Search,{className:\"mr-2\",size:18}),\"Advanced Search\"]})]})]})]})]});};export default HomePage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}