{"ast":null,"code":"import _objectSpread from\"/home/nawaf/aws-project/pupper-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Search,Filter,X,ChevronDown,ChevronUp,RotateCcw,Calendar}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchAndFilter=_ref=>{let{onFiltersChange,initialFilters={},isLoading=false}=_ref;const[searchQuery,setSearchQuery]=useState(initialFilters.search||'');const[showAdvancedFilters,setShowAdvancedFilters]=useState(false);const[filters,setFilters]=useState({state:initialFilters.state||'',city:initialFilters.city||'',minWeight:initialFilters.min_weight||'',maxWeight:initialFilters.max_weight||'',minAge:initialFilters.min_age||'',maxAge:initialFilters.max_age||'',color:initialFilters.color||'',status:initialFilters.status||'available',species:initialFilters.species||'',shelter:initialFilters.shelter||'',entryDateFrom:initialFilters.entry_date_from||'',entryDateTo:initialFilters.entry_date_to||'',minWagCount:initialFilters.min_wag_count||'',maxGrowlCount:initialFilters.max_growl_count||'',isLabrador:initialFilters.is_labrador||'',tags:initialFilters.tags||'',sortBy:initialFilters.sort_by||'created_at',sortOrder:initialFilters.sort_order||'desc'});// Debounced search\nuseEffect(()=>{const timer=setTimeout(()=>{handleFiltersChange();},300);return()=>clearTimeout(timer);},[searchQuery]);useEffect(()=>{handleFiltersChange();},[filters]);const handleFiltersChange=()=>{const activeFilters={search:searchQuery||undefined,state:filters.state||undefined,city:filters.city||undefined,min_weight:filters.minWeight||undefined,max_weight:filters.maxWeight||undefined,min_age:filters.minAge||undefined,max_age:filters.maxAge||undefined,color:filters.color||undefined,status:filters.status||undefined,species:filters.species||undefined,shelter:filters.shelter||undefined,entry_date_from:filters.entryDateFrom||undefined,entry_date_to:filters.entryDateTo||undefined,min_wag_count:filters.minWagCount||undefined,max_growl_count:filters.maxGrowlCount||undefined,is_labrador:filters.isLabrador||undefined,tags:filters.tags||undefined,sort_by:filters.sortBy,sort_order:filters.sortOrder};// Remove undefined values\nObject.keys(activeFilters).forEach(key=>{if(activeFilters[key]===undefined){delete activeFilters[key];}});onFiltersChange(activeFilters);};const handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));};const clearAllFilters=()=>{setSearchQuery('');setFilters({state:'',city:'',minWeight:'',maxWeight:'',minAge:'',maxAge:'',color:'',status:'available',species:'',shelter:'',entryDateFrom:'',entryDateTo:'',minWagCount:'',maxGrowlCount:'',isLabrador:'',tags:'',sortBy:'created_at',sortOrder:'desc'});};const hasActiveFilters=searchQuery||Object.values(filters).some(value=>value&&value!=='available'&&value!=='created_at'&&value!=='desc');const stateOptions=['AL','AK','AZ','AR','CA','CO','CT','DE','FL','GA','HI','ID','IL','IN','IA','KS','KY','LA','ME','MD','MA','MI','MN','MS','MO','MT','NE','NV','NH','NJ','NM','NY','NC','ND','OH','OK','OR','PA','RI','SC','SD','TN','TX','UT','VT','VA','WA','WV','WI','WY'];const colorOptions=['black','brown','white','golden','yellow','chocolate','cream','silver','gray','mixed','other'];const statusOptions=[{value:'available',label:'Available'},{value:'adopted',label:'Adopted'},{value:'pending',label:'Pending'}];const sortOptions=[{value:'created_at',label:'Date Added'},{value:'dog_name',label:'Name'},{value:'dog_age_years',label:'Age'},{value:'dog_weight',label:'Weight'},{value:'wag_count',label:'Wag Count'},{value:'shelter_entry_date',label:'Shelter Entry Date'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search dogs by name, breed, description, shelter, location...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg\",disabled:isLoading}),searchQuery&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSearchQuery(''),className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5 text-gray-400 hover:text-gray-600\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAdvancedFilters(!showAdvancedFilters),className:\"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\",disabled:isLoading,children:[/*#__PURE__*/_jsx(Filter,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Advanced Filters\"}),showAdvancedFilters?/*#__PURE__*/_jsx(ChevronUp,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"h-4 w-4\"})]}),hasActiveFilters&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearAllFilters,className:\"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors\",disabled:isLoading,children:[/*#__PURE__*/_jsx(RotateCcw,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Clear All\"})]})]}),showAdvancedFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"State\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.state,onChange:e=>handleFilterChange('state',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All States\"}),stateOptions.map(state=>/*#__PURE__*/_jsx(\"option\",{value:state,children:state},state))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter city name\",value:filters.city,onChange:e=>handleFilterChange('city',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Physical Characteristics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Min Weight (lbs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0\",value:filters.minWeight,onChange:e=>handleFilterChange('minWeight',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Max Weight (lbs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"100\",value:filters.maxWeight,onChange:e=>handleFilterChange('maxWeight',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Min Age (years)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0\",value:filters.minAge,onChange:e=>handleFilterChange('minAge',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Max Age (years)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"20\",value:filters.maxAge,onChange:e=>handleFilterChange('maxAge',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Dog Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Color\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.color,onChange:e=>handleFilterChange('color',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Colors\"}),colorOptions.map(color=>/*#__PURE__*/_jsx(\"option\",{value:color,children:color.charAt(0).toUpperCase()+color.slice(1)},color))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>handleFilterChange('status',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),statusOptions.map(status=>/*#__PURE__*/_jsx(\"option\",{value:status.value,children:status.label},status.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Labrador Only\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.isLabrador,onChange:e=>handleFilterChange('isLabrador',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Dogs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Labradors Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Non-Labradors\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Shelter Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Shelter Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter shelter name\",value:filters.shelter,onChange:e=>handleFilterChange('shelter',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter tags (comma-separated)\",value:filters.tags,onChange:e=>handleFilterChange('tags',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Date Filters\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Entry Date From\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filters.entryDateFrom,onChange:e=>handleFilterChange('entryDateFrom',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Entry Date To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filters.entryDateTo,onChange:e=>handleFilterChange('entryDateTo',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Popularity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Min Wag Count\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0\",value:filters.minWagCount,onChange:e=>handleFilterChange('minWagCount',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Max Growl Count\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"10\",value:filters.maxGrowlCount,onChange:e=>handleFilterChange('maxGrowlCount',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Sort Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Sort By\"}),/*#__PURE__*/_jsx(\"select\",{value:filters.sortBy,onChange:e=>handleFilterChange('sortBy',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading,children:sortOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Sort Order\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.sortOrder,onChange:e=>handleFilterChange('sortOrder',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",disabled:isLoading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"desc\",children:\"Descending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"Ascending\"})]})]})]})]})]})]});};export default SearchAndFilter;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}