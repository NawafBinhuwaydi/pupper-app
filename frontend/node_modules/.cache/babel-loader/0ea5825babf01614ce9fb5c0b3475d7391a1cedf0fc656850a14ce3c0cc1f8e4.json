{"ast":null,"code":"import _objectSpread from \"/home/nawaf/aws-project/pupper-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { composeServiceApi } from '@aws-amplify/core/internals/aws-client-utils/composers';\nimport { parseJsonError, parseJsonBody } from '@aws-amplify/core/internals/aws-client-utils';\nimport { validationErrorMap } from '../../../../common/AuthErrorStrings.mjs';\nimport { AuthError } from '../../../../errors/AuthError.mjs';\nimport { AuthValidationErrorCode } from '../../../../errors/types/validation.mjs';\nimport { assertServiceError } from '../../../../errors/utils/assertServiceError.mjs';\nimport { SignUpException } from '../../../../providers/cognito/types/errors.mjs';\nimport { createUserPoolSerializer } from './shared/serde/createUserPoolSerializer.mjs';\nimport { cognitoUserPoolTransferHandler } from './shared/handler/cognitoUserPoolTransferHandler.mjs';\nimport { DEFAULT_SERVICE_CLIENT_API_CONFIG } from './constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst createSignUpClientDeserializer = () => async response => {\n  if (response.statusCode >= 300) {\n    const error = await parseJsonError(response);\n    assertServiceError(error);\n    if (\n    // Missing Password Error\n    // 1 validation error detected: Value at 'password'failed to satisfy constraint: Member must not be null\n    error.name === SignUpException.InvalidParameterException && /'password'/.test(error.message) && /Member must not be null/.test(error.message)) {\n      const name = AuthValidationErrorCode.EmptySignUpPassword;\n      const {\n        message,\n        recoverySuggestion\n      } = validationErrorMap[name];\n      throw new AuthError({\n        name,\n        message,\n        recoverySuggestion\n      });\n    }\n    throw new AuthError({\n      name: error.name,\n      message: error.message\n    });\n  }\n  return parseJsonBody(response);\n};\nconst createSignUpClient = config => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer('SignUp'), createSignUpClientDeserializer(), _objectSpread(_objectSpread({}, DEFAULT_SERVICE_CLIENT_API_CONFIG), config));\nexport { createSignUpClient, createSignUpClientDeserializer };\n//# sourceMappingURL=createSignUpClient.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}